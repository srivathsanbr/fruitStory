<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Admin · Fruit Story</title>
  <link rel="stylesheet" href="./styles.css"/><link rel="icon" href="./assets/logo.svg"/>
  <script defer src="./js/admin.js"></script>
</head>
<body>
  <header class="container nav">
    <div class="brand">
      <img src="./assets/logo.svg" alt="Fruit Story logo"/>
      <div><div style="font-weight:700;">Fruit Story</div><div class="small">Imports from: Swara Ascent IMPEX</div></div>
    </div>
    <nav class="navlinks">
      <a href="./index.html">Home</a>
      <a href="./products.html">Catalog</a>
      <a href="./index.html#why">Why Fruit Story</a>
      <a href="./about.html">About</a>
      <a href="./index.html#contact">Contact</a>
    </nav>
  </header>

  <section class="container section">
    <h1>Admin Catalog Editor</h1>
    <p class="small">Unlock the panel, add items, then click <b>Save to server</b>. You’ll be prompted once for the Vercel <code>ADMIN_SECRET</code>.</p>

    <div class="card">
      <label class="small">Admin password</label>
      <input id="pwd" class="input" type="password" placeholder="Enter admin password"/>
      <button id="unlock" class="btn" style="margin-top:8px">Unlock</button>
    </div>

    <!-- Panel is hidden until unlocked -->
    <div id="panel" style="display:none">
      <div class="card" style="margin-top:12px">
        <h3 style="margin-top:0">Add / Update Item</h3>
        <div class="grid" style="grid-template-columns:repeat(3,1fr)">
          <div><label class="small">ID</label><input id="id" class="input" placeholder="unique-id"></div>
          <div><label class="small">Name</label><input id="name" class="input" placeholder="e.g., Alphonso Mango"></div>
          <div><label class="small">Price (₹)</label><input id="price" class="input" type="number" placeholder="e.g., 399"></div>
          <div><label class="small">Unit</label><input id="unit" class="input" placeholder="e.g., /kg, /box"></div>
          <div><label class="small">Type</label>
            <select id="type" class="select">
              <option value="import">import</option>
              <option value="regional">regional</option>
              <option value="organic">organic</option>
            </select>
          </div>
          <div><label class="small">Origin</label><input id="origin" class="input" placeholder="e.g., Ratnagiri, India"></div>
          <div style="grid-column:1/-1"><label class="small">Image URL</label><input id="img" class="input" placeholder="https://..."></div>
          <div style="grid-column:1/-1"><label class="small">Description</label><input id="desc" class="input" placeholder="Short description"></div>
        </div>
        <div class="actions">
          <button id="save" class="btn btn-primary">Save Item</button>
          <button id="save-server" class="btn">Save to server</button>
          <button id="download" class="btn">Download JSON</button>
          <button id="copy" class="btn">Copy JSON</button>
        </div>
        <p class="small" style="margin-top:8px">Env vars required on Vercel: <code>BLOB_READ_WRITE_TOKEN</code> (Read &amp; Write) and <code>ADMIN_SECRET</code>.</p>
      </div>

      <div class="card" style="margin-top:12px">
        <h3 style="margin-top:0">Catalog</h3>
        <table class="table" id="table">
          <thead><tr><th>ID</th><th>Name</th><th>Type</th><th>Price</th><th>Unit</th><th>Origin</th><th>Actions</th></tr></thead>
          <tbody></tbody>
        </table>
      </div>
    </div>
  </section>

  <footer class="footer">
    <div class="container">
      <div class="small">© Fruit Story · Imports from: Swara Ascent IMPEX</div>
      <div class="small">Orders via call/WhatsApp only · <a href="https://wa.me/919600785855?text=Hi%20Fruit%20Story%2C%20I%20want%20to%20order%20fruits." target="_blank" rel="noopener">Start WhatsApp</a></div>
      <div class="small">Instagram: <a target="_blank" rel="noopener" href="https://instagram.com/Fruitstory.co">Fruitstory.co</a></div>
    </div>
  </footer>
</body>
</html>
